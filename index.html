<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        
        <link rel='stylesheet' href='style.css' type='text/css'/>

        <!-- <script src='/home/ivan/Документы/ivan/chess/main.js'></script> -->
        
        
    </head>

    <body>
        
        <table id='table'>
            <tr>
                <th  bgcolor= "#9900cc" onclick="click(0,0)" id = "00">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(1,0)" id = "10">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(2,0)" id = "20">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(3,0)" id = "30">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(4,0)" id = "40">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(5,0)" id = "50">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(6,0)" id = "60">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(7,0)" id = "70">&nbsp;</th>
            </tr>
            <tr>
                <th  bgcolor="#f200ff" onclick="click(0,1)" id = "01">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(1,1)" id = "11">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(2,1)" id = "21">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(3,1)" id = "31">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(4,1)" id = "41">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(5,1)" id = "51">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(6,1)" id = "61">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(7,1)" id = "71">&nbsp;</th>
            </tr>
            <tr>
                <th  bgcolor= "#9900cc" onclick="click(0,2)" id = "02">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(1,2)" id = "12">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(2,2)" id = "22">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(3,2)" id = "32">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(4,2)" id = "42">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(5,2)" id = "52">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(6,2)" id = "62">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(7,2)" id = "72">&nbsp;</th>
            </tr>
            <tr>
                <th  bgcolor="#f200ff" onclick="click(0,3)" id = "03">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(1,3)" id = "13">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(2,3)" id = "23">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(3,3)" id = "33">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(4,3)" id = "43">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(5,3)" id = "53">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(6,3)" id = "63">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(7,3)" id = "73">&nbsp;</th>
            </tr>
            <tr>
                <th  bgcolor= "#9900cc" onclick="click(0,4)" id = "04">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(1,4)" id = "14">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(2,4)" id = "24">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(3,4)" id = "34">&nbsp;</th>    
                <th  bgcolor= "#9900cc" onclick="click(4,4)" id = "44">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(5,4)" id = "54">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(6,4)" id = "64">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(7,4)" id = "74">&nbsp;</th>
            </tr>
            <tr>
                <th  bgcolor="#f200ff" onclick="click(0,5)" id = "05">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(1,5)" id = "15">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(2,5)" id = "25">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(3,5)" id = "35">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(4,5)" id = "45">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(5,5)" id = "55">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(6,5)" id = "65">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(7,5)" id = "75">&nbsp;</th>
            </tr>
            <tr>
                <th  bgcolor= "#9900cc" onclick="click(0,6)" id = "06">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(1,6)" id = "16">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(2,6)" id = "26">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(3,6)" id = "36">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(4,6)" id = "46">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(5,6)" id = "56">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(6,6)" id = "66">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(7,6)" id = "76">&nbsp;</th>
            </tr>
            <tr>
                <th  bgcolor="#f200ff" onclick="click(0,7)" id = "07">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(1,7)" id = "17">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(2,7)" id = "27">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(3,7)" id = "37">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(4,7)" id = "47">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(5,7)" id = "57">&nbsp;</th>
                <th  bgcolor="#f200ff" onclick="click(6,7)" id = "67">&nbsp;</th>
                <th  bgcolor= "#9900cc" onclick="click(7,7)" id = "77">&nbsp;</th>
            </tr>
        </table>
        <script>
            var k=0
            var boardm = [['0','0','0','BP','0','0','0','0'],
                    ['0','0','0','0','0','0','0','0'],
                    ['0','0','0','0','0','0','0','0'],
                    ['0','0','0','0','0','0','0','0'],
                    ['0','0','0','0','0','0','0','0'],
                    ['0','0','0','0','0','0','0','0'],
                    ['0','0','0','0','0','0','0','0'],
                    ['0','0','0','0','0','0','0','0']
                ];
            function refresh() {
                for ( var i = 0; i<8; i++ ) {
                    for ( var j = 0; j<8; j++ ) {
                        if ( boardm[j][i] == 'BP' ) {
                            document.getElementById(+(String(i))+(String(j))).innerHTML = "&#9823;";

                        }
                        if ( boardm[j][i] == '0') {
                        
                            document.getElementById(+(String(i))+(String(j))).innerHTML = "&nbsp;";
                        }
                    }
                }
            }
            let table = document.getElementById('table');
            refresh();

            var index1;
            var index2;
            table.onmouseup = function(event) {
                let target = event.target;
                if ( k === 2 ) {
                    k = 0;
                }
                if ( k === 1 ) {
                    index2 = target.id;
                    k++;
                    moveAndCheck(index1, index2); 

                }
                if ( k==0 && boardm[ +( target.id[1] ) ] [ +( target.id[0] ) ] != '0') {
                    index1 = target.id;
                    k++;
                }                     
            }

            function moveAndCheck(selectedCell, wtMove) {
                //i = +(id[1]);
                //j = +(id[0]);
                if ( boardm[+(selectedCell[1])][+(selectedCell[0])] == "BP") {
                    if ( selectedCell[0] === wtMove[0] && selectedCell[1] == wtMove[1] - 1 ) {
                        boardm[+(selectedCell[1])][+(selectedCell[0])] = '0';
                        boardm[+(wtMove[1])][+(wtMove[0])] = 'BP';
                        refresh();
                    }
                    else {
                        alert( "figure cannot court stand up" )
                    }
                }
                
                //if ( boardm[])
                
                }

            
            
            class Board {
                boardm 
                Board(fac) {
                    boardm = fac
                }
                
            }
        
            class Figure extends Board {
                id 

            }

            class bP extends Figure {
                
                bP(loc) {
                    this.location = loc;
                }
                createOnBoard() {
                    
                }
                move() {

                }

            }   
            //let board = Board([["let bp3 = bP('00')",'','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','','']]);

            const cell = document.getElementById('target.id');                                                                                      
             //   const cell = document.getElementById('target.id');
             //   cell.innerHTML = 'dasdasdadasdasdas'
               // document.getElementById('myspan').innerHTML = 'newtext';
            //const cell = document.getElementById('06');                       
          </script>
    </body>
</html>

<!-- document.getElementById(target2.id).innerHTML = "<img src= '/home/ivan/Документы/ivan/chess/iconchess/bP.png'>"; -->
<!--boardm = [['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','','']]-->